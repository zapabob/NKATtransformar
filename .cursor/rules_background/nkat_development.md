# NKAT-Transformer開発ルール背景説明

このドキュメントは[.cursor/rules/nkat_development.mdc](.cursor/rules/nkat_development.mdc)のルールの策定背景を説明します。

## 1. [GPU最適化とプログレスバー要件](1-gpu最適化とプログレスバー要件)

**背景**: RTX3080環境での開発が前提で、長時間の機械学習処理における進捗可視化が重要
**実例**: `from tqdm import tqdm`、`device = torch.device('cuda')`の必須実装
**理由**: ユーザー体験向上とGPUリソース最大活用

## 2. [CUDA管理とメモリ効率化](2-cuda管理とメモリ効率化)

**背景**: 大規模モデル（12M+パラメータ）でのメモリ不足回避
**実例**: `torch.cuda.empty_cache()`、メモリ監視システム
**理由**: 学習の安定性とOOM（Out of Memory）エラー防止

## 3. [復旧システムと例外処理](3-復旧システムと例外処理)

**背景**: 長時間学習中の予期しない中断への対応
**実例**: チェックポイント保存、`try-except`包括処理
**理由**: 学習時間の無駄防止と開発効率向上

## 4. [グラフ表示の国際化対応](4-グラフ表示の国際化対応)

**背景**: Windows環境でのmatplotlib文字化け問題
**実例**: `plt.rcParams['font.family'] = 'DejaVu Sans'`
**理由**: 結果の可視化と論文・発表での利用

## 5. [段階的開発とスクリプト改良優先](5-段階的開発とスクリプト改良優先)

**背景**: 安易なテスト版作成によるコード分散問題
**実例**: 既存ファイルの機能拡張、バージョン管理
**理由**: コードベースの統一性とメンテナンス性

## 6. [Windows PowerShell最適化](6-windows-powershell最適化)

**背景**: 開発環境がWindows11でPowerShell使用
**実例**: `ls -R`コマンド、`;`区切り文字使用
**理由**: 環境固有のコマンド最適化

## 7. [Python実行環境統一](7-python実行環境統一)

**背景**: 複数Pythonバージョン環境での一貫性
**実例**: `py -3 script.py`による明示的実行
**理由**: バージョン依存問題の回避

## 8. [NKAT理論的整合性](8-nkat理論的整合性)

**背景**: 独自アーキテクチャの理論的基盤維持
**実例**: TPE計算、λ_theory実装
**理由**: 研究成果の科学的妥当性

## 9. [Optuna最適化戦略](9-optuna最適化戦略)

**背景**: CIFAR-10での性能向上が課題
**実例**: 早期枝刈り、特化パラメータ空間
**理由**: 最適化効率とリソース節約

## 10. [コード品質向上](10-コード品質向上)

**背景**: 研究コードの再現性と保守性
**実例**: type hints、numpy docstring形式
**理由**: 長期的な開発継続性とコラボレーション 